# üåç Saler Environment Variables Template
# Copy this file to .env and update with your actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Environment (development, staging, production)
ENVIRONMENT=development

# Service name for logging and monitoring
SERVICE_NAME=saler

# Timezone
TZ=UTC

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
# PostgreSQL
POSTGRES_DB=saler
POSTGRES_USER=saler
POSTGRES_PASSWORD=your_secure_postgres_password

# Database URL (alternative to individual settings)
# DATABASE_URL=postgresql://saler:password@postgres:5432/saler

# PostgreSQL Production Optimizations
POSTGRES_SHARED_BUFFERS=512MB
POSTGRES_EFFECTIVE_CACHE_SIZE=2GB
POSTGRES_WORK_MEM=16MB
POSTGRES_MAINTENANCE_WORK_MEM=128MB
POSTGRES_MAX_CONNECTIONS=100

# Database Pool Settings
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
# Redis
REDIS_PASSWORD=your_secure_redis_password

# Redis Pool Settings
REDIS_POOL_SIZE=10
REDIS_TIMEOUT=5

# Redis Memory Limits
REDIS_MEMORY_LIMIT=1G
REDIS_MEMORY_RESERVED=512M
REDIS_CPU_LIMIT=0.5
REDIS_CPU_RESERVED=0.25

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Application Secret Key (generate a strong secret)
SECRET_KEY=your-super-secret-key-min-32-chars-length

# JWT Configuration
JWT_SECRET_KEY=your-jwt-secret-key-32-characters-min
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=30

# Allowed hosts and CORS
ALLOWED_HOSTS=localhost,127.0.0.1,your-domain.com
CORS_ORIGINS=http://localhost:3000,https://your-domain.com

# =============================================================================
# BACKEND CONFIGURATION
# =============================================================================
# Logging
LOG_LEVEL=INFO

# Backend Resources
BACKEND_WORKERS=4
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
BACKEND_TIMEOUT=60
BACKEND_KEEPALIVE=5
MAX_BODY_SIZE=100M

# Backend Memory Limits
BACKEND_MEMORY_LIMIT=1G
BACKEND_MEMORY_RESERVED=512M
BACKEND_CPU_LIMIT=1.0
BACKEND_CPU_RESERVED=0.5

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
# API URLs
NEXT_PUBLIC_API_URL=http://localhost:8000
NEXT_PUBLIC_WS_URL=ws://localhost:8000/ws

# Production API URLs
# NEXT_PUBLIC_API_URL=https://api.your-domain.com
# NEXT_PUBLIC_WS_URL=wss://api.your-domain.com/ws

# Frontend Memory Limits
FRONTEND_MEMORY_LIMIT=512M
FRONTEND_MEMORY_RESERVED=256M
FRONTEND_CPU_LIMIT=0.5
FRONTEND_CPU_RESERVED=0.25

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================
# SMTP Settings
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# Email Configuration
EMAIL_FROM=noreply@your-domain.com

# =============================================================================
# THIRD-PARTY SERVICES
# =============================================================================
# OpenAI API
OPENAI_API_KEY=your-openai-api-key

# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token

# WhatsApp (UltraMsg)
ULTRAMSG_API_KEY=your-ultramsg-api-key
ULTRAMSG_INSTANCE_ID=your-ultramsg-instance-id

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================
# Sentry for error tracking
SENTRY_DSN=your-sentry-dsn-url

# Prometheus Metrics
PROMETHEUS_METRICS=true

# =============================================================================
# FILE UPLOAD CONFIGURATION
# =============================================================================
# File Upload Settings
UPLOAD_PATH=/app/uploads
MAX_FILE_SIZE=10M
ALLOWED_FILE_TYPES=jpg,jpeg,png,pdf,doc,docx

# =============================================================================
# PRODUCTION SPECIFIC SETTINGS
# =============================================================================
# Nginx Configuration
NGINX_HOST=0.0.0.0
NGINX_PORT=80
SSL_PORT=443

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# Grafana Configuration
GRAFANA_PASSWORD=your-secure-grafana-password

# =============================================================================
# DEVELOPMENT SPECIFIC SETTINGS
# =============================================================================
# Development Database
POSTGRES_DB_DEV=saler_dev
POSTGRES_USER_DEV=dev_user
POSTGRES_PASSWORD_DEV=dev_password

# Development Redis
REDIS_PASSWORD_DEV=dev_redis_password

# Development Secret Keys
SECRET_KEY_DEV=dev-secret-key-change-in-production-12345
JWT_SECRET_KEY_DEV=dev-jwt-secret-key-12345

# Development CORS
CORS_ORIGINS_DEV=http://localhost:3000,http://127.0.0.1:3000

# =============================================================================
# KUBERNETES SPECIFIC SETTINGS
# =============================================================================
# Kubernetes Resources
K8S_NAMESPACE=saler
K8S_REPLICAS=3

# Resource Limits (Kubernetes)
POSTGRES_MEMORY_LIMIT=2G
POSTGRES_MEMORY_RESERVED=1G
POSTGRES_CPU_LIMIT=1.0
POSTGRES_CPU_RESERVED=0.5

REDIS_MEMORY_LIMIT=1G
REDIS_MEMORY_RESERVED=512M
REDIS_CPU_LIMIT=0.5
REDIS_CPU_RESERVED=0.25

# =============================================================================
# MONITORING & ALERTING
# =============================================================================
# Alert Manager Configuration
ALERTMANAGER_WEB_EXTERNAL_URL=http://localhost:9093

# Slack Integration for Alerts
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
# Database Backup
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=saler-backups
BACKUP_S3_REGION=us-east-1
BACKUP_S3_ACCESS_KEY=your-s3-access-key
BACKUP_S3_SECRET_KEY=your-s3-secret-key

# =============================================================================
# SECURITY SCANNING
# =============================================================================
# Container Security Scanning
TRivy_SERVER_URL=http://trivy-server:4954
SECURITY_SCAN_ENABLED=true

# =============================================================================
# PERFORMANCE MONITORING
# =============================================================================
# APM Configuration
APM_SERVICE_NAME=saler
APM_ENVIRONMENT=${ENVIRONMENT}
APM_SECRET_TOKEN=your-apm-secret-token

# =============================================================================
# LOAD BALANCING
# =============================================================================
# Load Balancer Configuration
LOAD_BALANCER_STRATEGY=round-robin
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=5s

# =============================================================================
# DOCKER COMPOSE OVERRIDES
# =============================================================================
# Enable development tools
COMPOSE_PROFILE=development

# Docker BuildKit
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
# Log Format
LOG_FORMAT=json

# Log Levels
LOG_LEVEL_DATABASE=ERROR
LOG_LEVEL_REDIS=WARNING
LOG_LEVEL_HTTP=INFO

# Log Retention
LOG_RETENTION_DAYS=30

# =============================================================================
# CACHE CONFIGURATION
# =============================================================================
# Cache Settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000
CACHE_CLEANUP_INTERVAL=300

# =============================================================================
# RATE LIMITING
# =============================================================================
# API Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20
RATE_LIMIT_REDIS_PREFIX=rate_limit

# =============================================================================
# WEBHOOK CONFIGURATION
# =============================================================================
# Webhook Security
WEBHOOK_SECRET=your-webhook-secret-key
WEBHOOK_SIGNATURE_HEADER=X-Webhook-Signature
WEBHOOK_TIMEOUT=30s

# =============================================================================
# SSL/TLS CERTIFICATE MANAGEMENT
# =============================================================================
# Let's Encrypt Configuration
LETSENCRYPT_EMAIL=admin@your-domain.com
LETSENCRYPT_STAGING=false

# SSL Certificate Paths
SSL_CERT_DIR=/etc/ssl/certs
SSL_KEY_DIR=/etc/ssl/private

# =============================================================================
# DOCKER REGISTRY
# =============================================================================
# Container Registry
DOCKER_REGISTRY=your-registry.com
DOCKER_REGISTRY_USERNAME=your-username
DOCKER_REGISTRY_PASSWORD=your-password
DOCKER_IMAGE_TAG=${ENVIRONMENT:-latest}