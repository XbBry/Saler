{"dashboard": {"id": null, "title": "OpenTelemetry Tracing - Distributed Tracing", "tags": ["opentelemetry", "tracing", "distributed"], "timezone": "browser", "panels": [{"id": 1, "title": "Tracing System Overview", "type": "stat", "gridPos": {"h": 8, "w": 24, "x": 0, "y": 0}, "targets": [{"expr": "traces_total", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 80}, {"color": "red", "value": 90}]}, "unit": "short"}}}, {"id": 2, "title": "Active Services", "type": "stat", "gridPos": {"h": 8, "w": 8, "x": 0, "y": 8}, "targets": [{"expr": "count by (service_name) (traces_total)", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "red", "value": 10}]}}}}, {"id": 3, "title": "Error Rate", "type": "stat", "gridPos": {"h": 8, "w": 8, "x": 8, "y": 8}, "targets": [{"expr": "rate(traces_total{status=\"error\"}[5m]) / rate(traces_total[5m]) * 100", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "yellow", "value": 5}, {"color": "red", "value": 10}]}}}}, {"id": 4, "title": "Slow Requests (>5s)", "type": "stat", "gridPos": {"h": 8, "w": 8, "x": 16, "y": 8}, "targets": [{"expr": "rate(traces_total{duration_ms > 5000}[5m])", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}}}}, {"id": 5, "title": "Request Rate Over Time", "type": "timeseries", "gridPos": {"h": 8, "w": 24, "x": 0, "y": 16}, "targets": [{"expr": "rate(traces_total[1m])", "refId": "A"}], "options": {"legend": {"displayMode": "table", "placement": "bottom"}}}, {"id": 6, "title": "Error Rate by Service", "type": "timeseries", "gridPos": {"h": 8, "w": 12, "x": 0, "y": 24}, "targets": [{"expr": "rate(traces_total{status=\"error\"}[5m]) by (service_name) / rate(traces_total[5m]) by (service_name) * 100", "refId": "A"}]}, {"id": 7, "title": "Average Response Time by Service", "type": "timeseries", "gridPos": {"h": 8, "w": 12, "x": 12, "y": 24}, "targets": [{"expr": "rate(duration_ms[5m]) by (service_name)", "refId": "A"}]}, {"id": 8, "title": "Top Operations (by Duration)", "type": "table", "gridPos": {"h": 8, "w": 12, "x": 0, "y": 32}, "targets": [{"expr": "topk(10, rate(duration_ms[5m])) by (operation_name)", "refId": "A"}], "transformations": [{"id": "organize", "options": {"excludeByName": {}, "indexByName": {}, "renameByName": {"operation_name": "Operation", "Value": "Avg Duration (ms)"}}}, {"id": "sortBy", "options": {"fields": {}, "sort": [{"field": "Value", "desc": true}]}}]}, {"id": 9, "title": "Top Error Operations", "type": "table", "gridPos": {"h": 8, "w": 12, "x": 12, "y": 32}, "targets": [{"expr": "topk(10, rate(traces_total{status=\"error\"}[5m])) by (operation_name)", "refId": "A"}], "transformations": [{"id": "organize", "options": {"excludeByName": {}, "indexByName": {}, "renameByName": {"operation_name": "Operation", "Value": "Errors/sec"}}}]}, {"id": 10, "title": "Service Dependencies", "type": "graph", "gridPos": {"h": 8, "w": 24, "x": 0, "y": 40}, "targets": [{"expr": "rate(http_requests_total{service_name!=\"\"}[5m]) by (source_service, target_service)", "refId": "A"}], "options": {"legend": {"displayMode": "table", "placement": "bottom"}}}, {"id": 11, "title": "Database Query Performance", "type": "timeseries", "gridPos": {"h": 8, "w": 12, "x": 0, "y": 48}, "targets": [{"expr": "rate(db_duration_ms[5m]) by (operation)", "refId": "A"}]}, {"id": 12, "title": "Redis Operation Performance", "type": "timeseries", "gridPos": {"h": 8, "w": 12, "x": 12, "y": 48}, "targets": [{"expr": "rate(redis_duration_ms[5m]) by (command)", "refId": "A"}]}, {"id": 13, "title": "Request Latency Distribution", "type": "graph", "gridPos": {"h": 8, "w": 24, "x": 0, "y": 56}, "targets": [{"expr": "histogram_quantile(0.50, rate(duration_ms_bucket[5m]))", "refId": "A"}, {"expr": "histogram_quantile(0.90, rate(duration_ms_bucket[5m]))", "refId": "B"}, {"expr": "histogram_quantile(0.95, rate(duration_ms_bucket[5m]))", "refId": "C"}, {"expr": "histogram_quantile(0.99, rate(duration_ms_bucket[5m]))", "refId": "D"}]}, {"id": 14, "title": "Alert Status", "type": "stat", "gridPos": {"h": 6, "w": 8, "x": 0, "y": 64}, "targets": [{"expr": "alerts_total", "refId": "A"}]}, {"id": 15, "title": "Critical Issues", "type": "stat", "gridPos": {"h": 6, "w": 8, "x": 8, "y": 64}, "targets": [{"expr": "alerts_total{severity=\"critical\"}", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "green", "value": null}, {"color": "red", "value": 1}]}}}}, {"id": 16, "title": "Service Health Score", "type": "gauge", "gridPos": {"h": 8, "w": 8, "x": 16, "y": 64}, "targets": [{"expr": "service_health_score", "refId": "A"}], "fieldConfig": {"defaults": {"color": {"mode": "thresholds"}, "thresholds": {"steps": [{"color": "red", "value": null}, {"color": "yellow", "value": 70}, {"color": "green", "value": 90}]}}}}, {"id": 17, "title": "Recent Trace Timeline", "type": "table", "gridPos": {"h": 10, "w": 24, "x": 0, "y": 70}, "targets": [{"expr": "traces{time range=\"1h\"}", "refId": "A"}], "transformations": [{"id": "organize", "options": {"excludeByName": {}, "indexByName": {}, "renameByName": {"trace_id": "Trace ID", "operation_name": "Operation", "duration_ms": "Duration (ms)", "status": "Status", "timestamp": "Time"}}}]}], "time": {"from": "now-1h", "to": "now"}, "refresh": "30s", "schemaVersion": 16, "version": 1}, "overwrite": true, "inputs": [{"name": "DS_PROMETHEUS", "pluginId": "prometheus", "type": "datasource", "uid": "prometheus"}], "gnetId": null, "revision": null, "links": [], "annotations": {"list": [{"datasource": "DS_PROMETHEUS", "enable": true, "expr": "ALERTS{alertname!=\"\"}", "iconColor": "red", "name": "Alerts", "showIn": 0, "step": "60s", "tagKeys": "alertname", "textFormat": "{{alertname}}: {{summary}}", "titleFormat": "{{alertname}}", "type": "tags"}]}}