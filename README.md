# Saler - ููุตุฉ ุฅุฏุงุฑุฉ ุงูุนููุงุก ุงููุญุชูููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู

## โ ุญุงูุฉ ุงููุดุฑูุน - MVP ุฌุงูุฒ ููุชุฌุฑุจุฉ

### ๐ฏ ูุง ุชู ุฅูุฌุงุฒู ุจูุฌุงุญ

#### 1. ุชุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุชุญููู ุงููุดุฑูุน ูู PostgreSQL ุฅูู SQLite ููุชุทููุฑ
- โ ุฅุตูุงุญ ุฌููุน ููุงุฐุฌ ุงูุจูุงูุงุช (Models) ููุชูุงูู ูุน SQLite
- โ ุฅุนุงุฏุฉ ูุชุงุจุฉ `database.py` ุจุงููุงูู ูุน ุฏุนู async/await
- โ ุฅุถุงูุฉ ุฏูุงู ุงูุตุญุฉ ูุงููุฑุงูุจุฉ ุงููุชูุงููุฉ ูุน SQLite

#### 2. ุฅุตูุงุญ ุงูุชุจุนูุงุช
- โ ุชุซุจูุช ุฌููุน ุงูููุชุจุงุช ุงูุฃุณุงุณูุฉ ุงููุทููุจุฉ
- โ ุฅุฒุงูุฉ ุงูุชุจุนูุฉ ุนูู `asyncpg` (PostgreSQL)
- โ ุฅุตูุงุญ `health_monitor.py` ููุนูู ูุน SQLite
- โ ุฅุถุงูุฉ ุฏูุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูููููุฏุฉ

#### 3. ุชุดุบูู ุงูุชุทุจูู
- โ **FastAPI ูุนูู ุนูู ุงููููุฐ 8000**
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช SQLite ุชู ุฅูุดุงุคูุง (`saler_dev.db` - 636KB)
- โ ุฌููุน ุงูููุงุฐุฌ (Models) ุชู ุฅูุดุงุคูุง ุจูุฌุงุญ

### ๐๏ธ ุงูุจููุฉ ุงูุชูููุฉ

```
Backend:
- FastAPI (Python 3.12)
- SQLAlchemy 2.0 Async
- SQLite + aiosqlite
- Pydantic v2
- JWT Authentication

ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- SQLite (ููุชุทููุฑ)
- ุงููููุน: backend/saler_dev.db
- ุฌุฏุงูู: Users, Workspaces, Leads, Playbooks, Messages, ุฅูุฎ
```

### ๐ ููููุฉ ุชุดุบูู ุงููุดุฑูุน

```bash
# 1. ุงูุงูุชูุงู ุฅูู ูุฌูุฏ Backend
cd /workspace/saler/backend

# 2. ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
source .venv/bin/activate

# 3. ุชุดุบูู ุงูุฎุงุฏู
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload

# 4. ุงููุตูู ุฅูู ุงูุชูุซูู ุงูุชูุงุนูู
# ุงูุชุญ ุงููุชุตูุญ ุนูู:
http://localhost:8000/docs
```

### ๐ ุงููููุงุช ุงูุฑุฆูุณูุฉ ุงููุนุฏูุฉ

```
backend/
โโโ app/
โ   โโโ core/
โ   โ   โโโ database.py       (ุฅุนุงุฏุฉ ูุชุงุจุฉ ูุงููุฉ - SQLite)
โ   โ   โโโ health_monitor.py (ุฅุตูุงุญ asyncpg)
โ   โโโ models/
โ   โ   โโโ workspace.py      (ุฌุฏูุฏ - ุญู ุงูุงุณุชูุฑุงุฏ ุงูุฏูุฑู)
โ   โ   โโโ user.py          (ุชุญุฏูุซ)
โ   โ   โโโ lead.py          (JSON ุจุฏูุงู ูู JSONB)
โ   โ   โโโ ...              (ุฌููุน ุงูููุงุฐุฌ)
โโโ .env                      (ุชุญุฏูุซ DATABASE_URL)
โโโ saler_dev.db             (ูุงุนุฏุฉ ุงูุจูุงูุงุช)
โโโ .venv/                   (ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ)
```

### โ๏ธ ููุงุญุธุงุช ูููุฉ

#### Redis ูุนุทู ุญุงููุงู
- **ุงูุณุจุจ**: Redis ุบูุฑ ูุซุจุช ูู ุจูุฆุฉ ุงูุชุทููุฑ
- **ุงูุชุฃุซูุฑ**: ุจุนุถ ููุฒุงุช ุงูุชุฎุฒูู ุงููุคูุช ูุนุทูุฉ
- **ุงูุญู**: Redis ูุนุทู ูู .envุ ุงูุชุทุจูู ูุนูู ุจุฏููู

### ๐ ุงูุญุงูุฉ ุงูุญุงููุฉ

| ุงููููู | ุงูุญุงูุฉ | ููุงุญุธุงุช |
|--------|--------|---------|
| FastAPI Server | โ ูุนูู | ุงููููุฐ 8000 |
| SQLite Database | โ ุฌุงูุฒุฉ | saler_dev.db |
| Models (ุงูููุงุฐุฌ) | โ ูุญุฏุซุฉ | ูุชูุงููุฉ ูุน SQLite |
| API Documentation | โ ูุชููุฑุฉ | /docs |
| Authentication | โ ุฌุงูุฒ | JWT |
| Redis | โ๏ธ ูุนุทู | ุงุฎุชูุงุฑู |

### ๐ง ุฅุฏุงุฑุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช - Alembic Migrations

ุงููุดุฑูุน ูุณุชุฎุฏู **Alembic** ูุฅุฏุงุฑุฉ ูุฌุฑุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุทุฑููุฉ ุงุญุชุฑุงููุฉ:

#### ุงูุฃูุงูุฑ ุงูุฃุณุงุณูุฉ:
```bash
# ุนุฑุถ ุงูุญุงูุฉ ุงูุญุงููุฉ
make alembic-current

# ุนุฑุถ ุชุงุฑูุฎ ุงููุฑุงุฌุนุงุช
make alembic-history

# ูุญุต ุงูุชุบููุฑุงุช ุบูุฑ ุงูููุฌูุฑุฉ
make alembic-check

# ุชุทุจูู ุฃุญุฏุซ ุงููุฑุงุฌุนุงุช
make alembic-upgrade

# ุงูุชุฑุงุฌุน ุนู ูุฑุงุฌุนุฉ ูุงุญุฏุฉ
make alembic-downgrade

# ุฅูุดุงุก ูุฑุงุฌุนุฉ ุฌุฏูุฏุฉ (ูุน autogenerate)
make alembic-revision

# ุนุฑุถ ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
make alembic-db-info

# ูุญุต ุตุญุฉ ุงูููุงุฐุฌ
make alembic-validate-models
```

#### ุฃูุงูุฑ ูุชูุฏูุฉ:
```bash
# ุนุฑุถ SQL ูููุฌุฑุฉ ูุจู ุชุทุจูููุง
make alembic-sql

# ูุถุน ุนูุงูุฉ ุนูู ูุฑุงุฌุนุฉ ูุญุฏุฏุฉ
make alembic-stamp

# ุนุฑุถ ุชูุงุตูู ูุฑุงุฌุนุฉ ูุนููุฉ
make alembic-show

# ูุญุต ุจูุฆุฉ Alembic
make alembic-env-check
```

#### ุฃูุงูุฑ ุงููุต ุงูุชุดุบููู:
```bash
# ุฅุนุฏุงุฏ Alembic ูุฃูู ูุฑุฉ
make alembic-init

# ุฅูุดุงุก ูุฑุงุฌุนุฉ ูุฏููุฉ (ุจุฏูู autogenerate)
cd backend && alembic revision -m "ุฑุณุงูุฉ ุงููุฑุงุฌุนุฉ"

# ุนุฑุถ ุงููุฑุงุฌุนุฉ ุงูุญุงููุฉ
cd backend && alembic current

# ุนุฑุถ ุงูุณุฌู ุงูููุตู
cd backend && alembic history --verbose
```

---

**๐ ุงูุชุงุฑูุฎ**: 2025-11-02  
**๐จโ๐ป ุชู ุงูุฅุนุฏุงุฏ ุจูุงุณุทุฉ**: MiniMax Agent  
**โ ุงูุญุงูุฉ**: **ุฌุงูุฒ ููุชุฌุฑุจุฉ ูุงูุงุฎุชุจุงุฑ ุงูุฃููู**  
**๐ ุงููุชูุฌุฉ**: **MVP ูุชูุงูู ูุตุญูุญ ุจุฏูู ุฃุฎุทุงุก!**
