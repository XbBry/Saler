# Kubernetes Secrets Manifest
# ============================
# This file should be encrypted with a tool like SOPS or used with sealed-secrets
# DO NOT commit actual secrets to version control

apiVersion: v1
kind: Namespace
metadata:
  name: saler
  labels:
    name: saler
    environment: production

---
# Database Secrets
apiVersion: v1
kind: Secret
metadata:
  name: saler-secrets
  namespace: saler
  labels:
    app: saler
    component: database
type: Opaque
stringData:
  # PostgreSQL credentials
  postgres-user: "saler"
  postgres-password: "CHANGE-THIS-IN-PRODUCTION-2024"
  database-url: "postgresql://saler:CHANGE-THIS-IN-PRODUCTION-2024@saler-postgres-service:5432/saler"
  
  # Redis credentials
  redis-password: "CHANGE-THIS-REDIS-PASSWORD-2024"
  redis-url: "redis://:CHANGE-THIS-REDIS-PASSWORD-2024@saler-redis-service:6379/0"
  
  # Application secrets
  secret-key: "CHANGE-THIS-SECRET-KEY-TO-RANDOM-32-CHARS-MIN-IN-PRODUCTION"
  jwt-secret-key: "CHANGE-THIS-JWT-SECRET-KEY-IN-PRODUCTION"
  
  # Email credentials
  smtp-user: "noreply@yourdomain.com"
  smtp-password: "your-smtp-password"
  
  # External services
  sentry-dsn: "https://your-sentry-dsn@sentry.io/project-id"
  
  # API keys for integrations
  openai-api-key: "sk-your-openai-api-key"
  stripe-secret-key: "sk_live_your-stripe-secret-key"
  stripe-webhook-secret: "whsec_your-stripe-webhook-secret"
  
  # Social media and messaging
  twilio-account-sid: "your-twilio-account-sid"
  twilio-auth-token: "your-twilio-auth-token"
  twilio-phone-number: "+1234567890"
  ultramsg-api-key: "your-ultramsg-api-key"
  ultramsg-instance-id: "your-ultramsg-instance-id"
  
  # E-commerce integrations
  shopify-api-key: "your-shopify-api-key"
  shopify-api-secret: "your-shopify-api-secret"
  shopify-access-token: "your-shopify-access-token"
  woocommerce-api-key: "your-woocommerce-api-key"
  woocommerce-api-secret: "your-woocommerce-api-secret"
  
  # Meta/Facebook Ads
  facebook-app-id: "your-facebook-app-id"
  facebook-app-secret: "your-facebook-app-secret"
  facebook-access-token: "your-facebook-access-token"
  meta-ads-account-id: "your-meta-ads-account-id"
  
  # Cloud services
  aws-access-key-id: "your-aws-access-key"
  aws-secret-access-key: "your-aws-secret-key"
  cloudflare-api-token: "your-cloudflare-api-token"
  cloudflare-zone-id: "your-cloudflare-zone-id"
  
  # Monitoring
  grafana-admin-password: "change-this-grafana-password"
  datadog-api-key: "your-datadog-api-key"
  datadog-app-key: "your-datadog-app-key"
  
  # Search services
  elasticsearch-password: "your-elasticsearch-password"

---
# SSL/TLS Certificates
apiVersion: v1
kind: Secret
metadata:
  name: saler-ssl-certs
  namespace: saler
  labels:
    app: saler
    component: ssl
type: kubernetes.io/tls
data:
  # Base64 encoded TLS certificate and key
  tls.crt: LS0tLS1CRUdJTi...  # Base64 encoded certificate
  tls.key: LS0tLS1CRUdJTi...  # Base64 encoded private key

---
# Monitoring Credentials
apiVersion: v1
kind: Secret
metadata:
  name: saler-monitoring-secrets
  namespace: saler
  labels:
    app: saler
    component: monitoring
type: Opaque
stringData:
  # Prometheus basic auth
  prometheus-username: "prometheus"
  prometheus-password: "CHANGE-THIS-PROMPT-ADMIN-PASSWORD"
  
  # Grafana admin credentials
  grafana-admin-user: "admin"
  grafana-admin-password: "CHANGE-THIS-GRAFANA-ADMIN-PASSWORD"
  
  # Alertmanager
  alertmanager-username: "alertmanager"
  alertmanager-password: "CHANGE-THIS-ALERTMANAGER-PASSWORD"

---
# OAuth Secrets
apiVersion: v1
kind: Secret
metadata:
  name: saler-oauth-secrets
  namespace: saler
  labels:
    app: saler
    component: oauth
type: Opaque
stringData:
  # Google OAuth
  google-client-id: "your-google-client-id.apps.googleusercontent.com"
  google-client-secret: "your-google-client-secret"
  
  # GitHub OAuth
  github-client-id: "your-github-client-id"
  github-client-secret: "your-github-client-secret"
  
  # Microsoft OAuth
  microsoft-client-id: "your-microsoft-client-id"
  microsoft-client-secret: "your-microsoft-client-secret"

---
# Webhook Secrets
apiVersion: v1
kind: Secret
metadata:
  name: saler-webhook-secrets
  namespace: saler
  labels:
    app: saler
    component: webhooks
type: Opaque
stringData:
  # Stripe webhooks
  stripe-webhook-signing-secret: "whsec_your-stripe-webhook-signing-secret"
  
  # GitHub webhooks
  github-webhook-secret: "your-github-webhook-secret"
  
  # Custom webhooks
  webhook-signing-secret: "your-webhook-signing-secret"

---
# External API Keys
apiVersion: v1
kind: Secret
metadata:
  name: saler-api-keys
  namespace: saler
  labels:
    app: saler
    component: external-apis
type: Opaque
stringData:
  # Payment processors
  paypal-client-id: "your-paypal-client-id"
  paypal-client-secret: "your-paypal-client-secret"
  
  # Email services
  mailgun-api-key: "key-your-mailgun-api-key"
  sendgrid-api-key: "SG.your-sendgrid-api-key"
  
  # SMS services
  messagebird-api-key: "your-messagebird-api-key"
  
  # File storage
  dropbox-api-key: "your-dropbox-api-key"
  google-drive-api-key: "your-google-drive-api-key"
  
  # Analytics
  google-analytics-id: "GA-XXXXXXXXX"
  mixpanel-token: "your-mixpanel-token"

---
# Service Account Tokens (automatically generated)
apiVersion: v1
kind: Secret
metadata:
  name: saler-backend-token
  namespace: saler
  annotations:
    kubernetes.io/service-account.name: saler-backend
type: kubernetes.io/service-account-token

---
apiVersion: v1
kind: Secret
metadata:
  name: saler-frontend-token
  namespace: saler
  annotations:
    kubernetes.io/service-account.name: saler-frontend
type: kubernetes.io/service-account-token

---
apiVersion: v1
kind: Secret
metadata:
  name: saler-redis-token
  namespace: saler
  annotations:
    kubernetes.io/service-account.name: saler-redis
type: kubernetes.io/service-account-token

---
apiVersion: v1
kind: Secret
metadata:
  name: saler-postgres-token
  namespace: saler
  annotations:
    kubernetes.io/service-account.name: saler-postgres
type: kubernetes.io/service-account-token

---
# Backup Encryption Key
apiVersion: v1
kind: Secret
metadata:
  name: saler-backup-key
  namespace: saler
  labels:
    app: saler
    component: backup
type: Opaque
stringData:
  # GPG key for encrypting backups
  gpg-public-key: |
    -----BEGIN PGP PUBLIC KEY BLOCK-----
    
    ... Your GPG public key here ...
    
    -----END PGP PUBLIC KEY BLOCK-----
  gpg-private-key: |
    -----BEGIN PGP PRIVATE KEY BLOCK-----
    
    ... Your GPG private key here ...
    
    -----END PGP PRIVATE KEY BLOCK-----
  backup-passphrase: "CHANGE-THIS-BACKUP-PASSPHRASE"

---
# Application Configuration (can also be stored as ConfigMap)
apiVersion: v1
kind: Secret
metadata:
  name: saler-config-secrets
  namespace: saler
  labels:
    app: saler
    component: config
type: Opaque
stringData:
  # Feature flags
  enable-analytics: "true"
  enable-notifications: "true"
  enable-webhooks: "true"
  enable-ai-features: "true"
  
  # API rate limits
  api-rate-limit: "100"
  api-rate-limit-window: "60"
  
  # Session settings
  session-timeout: "3600"
  session-secure: "true"
  
  # CORS settings
  cors-allowed-origins: "https://yourdomain.com,https://www.yourdomain.com"
  cors-allowed-methods: "GET,POST,PUT,DELETE,OPTIONS,PATCH"
  cors-allowed-headers: "*"
  
  # File upload limits
  max-file-size: "50MB"
  allowed-file-types: "jpg,jpeg,png,gif,pdf,doc,docx,xls,xlsx"
  
  # Email settings
  email-from-name: "Saler"
  email-from-address: "noreply@yourdomain.com"
  email-reply-to: "support@yourdomain.com"
  
  # Notification settings
  slack-webhook-url: "https://hooks.slack.com/services/your/slack/webhook"
  discord-webhook-url: "https://discord.com/api/webhooks/your/discord/webhook"

---
# Environment-specific overrides
# Use separate secrets for different environments
apiVersion: v1
kind: Secret
metadata:
  name: saler-staging-secrets
  namespace: saler
  labels:
    app: saler
    environment: staging
    component: database
type: Opaque
stringData:
  postgres-user: "saler_staging"
  postgres-password: "staging-password-not-for-production"
  redis-password: "staging-redis-password"
  secret-key: "staging-secret-key-not-for-production"
  smtp-user: "staging@yourdomain.com"
  smtp-password: "staging-smtp-password"